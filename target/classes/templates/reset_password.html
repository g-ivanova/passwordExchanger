<script crossorigin="anonymous" integrity="sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="/js/reset_password.js" type="text/javascript"></script>
<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" xmlns:th="http://www.w3.org/1999/xhtml"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <title> PASSEX Reset password </title>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link href="favicon.ico" rel="shortcut icon">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'>
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/animate.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="row col-md-6" style="margin-left:25%">
            <form class="fh5co-form animate-box"
                  data-animate-effect="fadeIn"
                  id="formResetPassword"
                  method="POST"
                  th:action="@{/home/resetPassword}"
                  th:object="${user}"
            >
                <h2>Reset Password</h2>
                <input class="form-control"
                       id="user_id"
                       name="user_id"
                       th:value="${user_id}"
                       type="hidden"
                />
                <input class="form-control"
                       id="id"
                       name="id"
                       th:value="${id}"
                       type="hidden"
                />
                <div class="form-group">
                    <p>Enter your email to receive a code for password reset:</p>
                </div>
                <div class="form-group">
                    <table>
                        <tr>
                            <td>
                                <label class="sr-only" for="email">Email</label>
                                <input class="form-control"
                                       id="email"
                                       name="email"
                                       placeholder="Email"
                                       type="text"
                                />
                                <p id="reset_email_error" class="error-message"></p>
                            </td>
                            <td style="width:10%">
                                <button class="btn btn-success2" id="emailButton" name="send_email" type="button">
                                    <svg class="bi bi-envelope-arrow-up-fill" fill="currentColor" height="30" id="svg"
                                         viewBox="0 0 16 16" width="30" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zm.192 8.159 6.57-4.027L8 9.586l1.239-.757.367.225A4.49 4.49 0 0 0 8 12.5c0 .526.09 1.03.256 1.5H2a2 2 0 0 1-1.808-1.144M16 4.697v4.974A4.5 4.5 0 0 0 12.5 8a4.5 4.5 0 0 0-1.965.45l-.338-.207z"/>
                                        <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.354-5.354 1.25 1.25a.5.5 0 0 1-.708.708L13 12.207V14a.5.5 0 0 1-1 0v-1.717l-.28.305a.5.5 0 0 1-.737-.676l1.149-1.25a.5.5 0 0 1 .722-.016"/>
                                    </svg>
                                </button>
                            </td>
                        </tr>
                    </table>
                    <p id="email_error" class="error-message"></p>
                </div>
                <div class="form-group">
                    <label class="sr-only" for="code">Code</label>
                    <input class="form-control"
                           disabled
                           id="code"
                           name="code"
                           placeholder="Received code"
                           type="password"
                    />
                    <p id="code_error" class="error-message"></p>
                </div>
                <div class="form-group">
                    <label class="sr-only" for="new_password">New password</label>
                    <input class="form-control"
                           disabled
                           id="new_password"
                           name="new_password"
                           placeholder="New password"
                           type="password"
                           maxlength="16"
                    />
                    <p id="pass_error" class="error-message"></p>
                    <small id="new_password_char-count" class="form-text text-muted char-count">0/16</small>
                </div>
                <div class="form-group">
                    <label class="sr-only" for="rep_new_password">Repeat new password</label>
                    <input class="form-control"
                           disabled
                           id="rep_new_password"
                           name="rep_new_password"
                           placeholder="Repeat new password"
                           type="password"
                           maxlength="16"
                    />
                    <p id="rep_pass_error" class="error-message"></p>
                    <small id="rep_new_password_char-count" class="form-text text-muted char-count">0/16</small>
                    <br/>
                </div>
                <div class="form-group">
                    <button class="btn btn-primary" id="resetPasswordButton" name="save" th:attr="onclick=|resetPassword()|" type="button" value="Set new password">
                      Set new password
                    </button>
                    <input class="btn btn-cancel" name="cancel" type="submit" value="Cancel">
                </div>
            </form>
        </div>
    </div>
</body>
</html>